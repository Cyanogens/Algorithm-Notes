##### [[困难]]
##### [[状态压缩]]

根据题意，我们先做如下的初始化：
由于所有的火柴都要选，那么，如果能组成正方形，那么其长度和必须为 $4$ 的倍数，其每一边的长度 $len$ 为总长度 / $4$ 。
由于每根火柴在选定放在某一边时是有 选/不选 的状态，故可以采用回溯，也可以采用状压 $dp$ 。
对于状压 $dp$ 而言：
1. 定义状态：我们可以利用二进制位为火柴根数 $n$ 的数来表示某一根火柴的选取情况，那么就有 $dp[1 \ll n]$ 。对于每一种 $dp[i]$ ，我们可以将其表示为在根据正方形的边依次放入火柴时，该边未放满时的当前长度。
2. 确定状态转移方程：根据状态，我们可以发现，当我们要取第 $k$ 根火柴时，是基于 当前状态下， 从 **拿走** 第 $k$ 根火柴的状态 转移而来，所以有：
$$
dp[i] = (dp[i_1] + matchsticks[k]) \% len
$$
    其中， $i_1$ 的二进制位表示当前状态 $i$ 下 **拿走** 第 $k$ 根火柴的状态，对 $len$ 取模表示当某一边放满后，正方形**未放满**的边的长度就为 $0$ 。
3. 确定初始状态：在刚开始时，没有火柴被选取，故 $i=0$ ，此时，正方形边的长度为 $0$ ，即： $dp[0]=0$ 。
4. 进行状态转移：我们对所有可能的情况进行遍历(遍历 $i$ )。在每一种情况下，依次遍历判断是否有取到第 $k$ 根火柴。由于我们要取第 $k$ 根火柴时，是基于 当前状态下 **拿走** 第 $k$ 根火柴的状态 转移而来。所以，我们要先判断上述状态是否是**可达到**的，然后判断第 $k$ 根火柴的长度 与 上述状态下未放满的边的长度 的和是否超出每一边的长度 $len$ ，若符合条件，更新 $dp[i]$ 。
5. 返回要求的结果：判断所有火柴都取的情况 $dp[2^n -1]$ 的值是否为 $0$ 即可。
